// Deterministic sort given a key and values; handles missing values & ties.
// Input: items[], valuesMap (idâ†’value), expectedType ('number'|'date'|'text')
// Output: order[] of ids

